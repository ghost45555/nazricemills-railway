<ng-container *ngIf="href; else buttonTemplate">
  <a 
    [href]="href"
    [target]="target"
    [class]="classes.join(' ')"
    [attr.aria-label]="ariaLabel"
    [attr.disabled]="disabled ? '' : null"
    (click)="onClick($event)">
    <span class="premium-button__content">
      <span *ngIf="icon && iconPosition === 'left'" class="premium-button__icon">
        <i [class]="icon"></i>
      </span>
      <span class="premium-button__text">
        <ng-content></ng-content>
      </span>
      <span *ngIf="icon && iconPosition === 'right'" class="premium-button__icon">
        <i [class]="icon"></i>
      </span>
    </span>
    <span *ngIf="loading" class="premium-button__loader">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"/>
      </svg>
    </span>
  </a>
</ng-container>

<ng-template #buttonTemplate>
  <button 
    [class]="classes.join(' ')"
    [attr.aria-label]="ariaLabel"
    [disabled]="disabled"
    (click)="onClick($event)">
    <span class="premium-button__content">
      <span *ngIf="icon && iconPosition === 'left'" class="premium-button__icon">
        <i [class]="icon"></i>
      </span>
      <span class="premium-button__text">
        <ng-content></ng-content>
      </span>
      <span *ngIf="icon && iconPosition === 'right'" class="premium-button__icon">
        <i [class]="icon"></i>
      </span>
    </span>
    <span *ngIf="loading" class="premium-button__loader">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"/>
      </svg>
    </span>
  </button>
</ng-template>
